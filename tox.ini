[tox]
envlist =
    # py26-dj{16}
    py27-dj{16,18,19,110,111}
    # py33-dj{16,18}
    py34-dj{18,19,110,111}
    py35-dj{18,19,110,111}
    py36-dj{18,19,110,111,20,21}
    py37-dj{20,21,22,30,31,32}
    py38-dj{22,30,31,32,40,41,42}
    py39-dj{22,30,31,32,40,41,42}
    py310-dj{32,40,41,42}
    py311-dj{41,42}
skipsdist = True

[testenv]
deps =
    py26: ipython==2.1.0
    {py27,py32,py33}: ipython==5.4.1
    {py35,py36}: ipython==6.1.0
    {py37}: ipython==7.4.0

    dj16: Django==1.6.11
    dj16: coverage<=3.999
    dj16: django-guardian==1.3.2

    dj18: Django==1.8.19
    dj18: coverage==4.1
    dj18: django-guardian==1.4.4

    dj19: Django==1.9.13
    dj19: coverage==4.1
    dj19: django-guardian==1.4.4

    dj110: Django==1.10.8
    dj110: coverage==4.1
    dj110: django-guardian==1.4.4

    dj111: Django==1.11.29
    dj111: coverage==4.5.4
    dj111: django-guardian==1.4.8

    dj20: Django==2.0.13
    dj20: coverage==4.5.4
    dj20: django-guardian==1.5.0

    dj21: Django==2.1.15
    dj21: coverage==4.5.4
    dj21: django-guardian==1.5.0

    dj22: Django==2.2.28
    dj22: coverage==4.5.4
    dj22: django-guardian==2.1.0

    dj30: Django==3.0.14
    dj30: coverage==4.5.4
    dj30: django-guardian==2.1.0

    dj31: Django==3.1.14
    dj31: coverage==5.5
    dj31: django-guardian==2.3.0

    dj32: Django==3.2.20
    dj32: coverage==6.1.1
    dj32: django-guardian==2.4.0

    dj40: Django==4.0.10
    dj40: coverage==6.4.2
    dj40: django-guardian==2.4.0

    dj41: Django==4.1.10
    dj41: coverage==6.4.3
    dj41: django-guardian==2.4.0

    dj42: Django==4.2.5
    dj42: coverage==7.2.7
    dj42: django-guardian==2.4.0

    graphviz==0.20.1
    pep8==1.7.1
    pyflakes==3.1.0
commands = {posargs:python ./tests/manage.py test}


[flake8]
max-line-length = 130

[gh-actions]
python =
    2.7: py27
    3.5: py35
    3.6: py36
    3.7: py37
    3.8: py38
    3.9: py39
    3.10: py310
